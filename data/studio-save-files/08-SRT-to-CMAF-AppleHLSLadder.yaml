__layout:
  - id: srt_input
    x: 672
    y: 416
  - id: abrladder
    x: 1280
    y: 112
  - id: ll-hls
    x: 1840
    y: 416
__globalConfig: {}
components:
  - type: input.srt-listener
    config:
      displayName: SRT Input
      port: 5001
      host: 0.0.0.0
      passphrase: ""
      socketOptions: {}
      sourceNames: permissive
      streamIds:
        - camera1
      notes: ""
      id: srt_input
    subscriptions: []
  - type: processor.fixedLadder
    config:
      displayName: ABR Ladder
      rungs:
        - name: h264_1920x1080_7800kbps
          software:
            width: 1920
            height: 1080
            codec:
              type: x264
              bitrateMode:
                value: 7800
                mode: abr
              keyFrameIntervalMax: 60
              keyFrameIntervalMin: 60
              sceneCut: 0
              preset: fast
              tune: zerolatency
              threads: 8
              bframes: 0
            frameRate:
              frames: 30
              seconds: 1
          quadra:
            width: 1920
            height: 1080
            codec:
              type: quadra-h264
              intraPeriod: 60
              bitrate: 7800000
            frameRate:
              frames: 30
              seconds: 1
          nvidia:
            width: 1920
            height: 1080
            codec:
              type: nv-h264
              idrPeriod: 60
              rateControl:
                mode: vbr
                averageBitrate: 7800000
            frameRate:
              frames: 30
              seconds: 1
        - name: h264_1920x1080_6000kbps
          software:
            width: 1920
            height: 1080
            codec:
              type: x264
              bitrateMode:
                value: 6000
                mode: abr
              keyFrameIntervalMax: 60
              keyFrameIntervalMin: 60
              sceneCut: 0
              preset: fast
              tune: zerolatency
              threads: 8
              bframes: 0
            frameRate:
              frames: 30
              seconds: 1
          quadra:
            width: 1920
            height: 1080
            codec:
              type: quadra-h264
              intraPeriod: 60
              bitrate: 6000000
            frameRate:
              frames: 30
              seconds: 1
          nvidia:
            width: 1920
            height: 1080
            codec:
              type: nv-h264
              idrPeriod: 60
              rateControl:
                mode: vbr
                averageBitrate: 6000000
            frameRate:
              frames: 30
              seconds: 1
        - name: h264_1280x720_4500kbps
          software:
            width: 1280
            height: 720
            codec:
              type: x264
              bitrateMode:
                value: 4500
                mode: abr
              keyFrameIntervalMax: 60
              keyFrameIntervalMin: 60
              sceneCut: 0
              preset: fast
              tune: zerolatency
              threads: 8
              bframes: 0
            frameRate:
              frames: 30
              seconds: 1
          quadra:
            width: 1280
            height: 720
            codec:
              type: quadra-h264
              intraPeriod: 60
              bitrate: 4500000
            frameRate:
              frames: 30
              seconds: 1
          nvidia:
            width: 1280
            height: 720
            codec:
              type: nv-h264
              idrPeriod: 60
              rateControl:
                mode: vbr
                averageBitrate: 4500000
            frameRate:
              frames: 30
              seconds: 1
        - name: h264_1280x720_3000kbps
          software:
            width: 1280
            height: 720
            codec:
              type: x264
              bitrateMode:
                value: 3000
                mode: abr
              keyFrameIntervalMax: 60
              keyFrameIntervalMin: 60
              sceneCut: 0
              preset: fast
              tune: zerolatency
              threads: 4
              bframes: 0
            frameRate:
              frames: 30
              seconds: 1
          quadra:
            width: 1280
            height: 720
            codec:
              type: quadra-h264
              intraPeriod: 60
              bitrate: 3000000
            frameRate:
              frames: 30
              seconds: 1
          nvidia:
            width: 1280
            height: 720
            codec:
              type: nv-h264
              idrPeriod: 60
              rateControl:
                mode: vbr
                averageBitrate: 3000000
            frameRate:
              frames: 30
              seconds: 1
        - name: h264_960x540
          software:
            width: 960
            height: 540
            codec:
              type: x264
              bitrateMode:
                value: 2000
                mode: abr
              keyFrameIntervalMax: 60
              keyFrameIntervalMin: 60
              sceneCut: 0
              preset: fast
              tune: zerolatency
              threads: 2
              bframes: 0
            frameRate:
              frames: 30
              seconds: 1
          quadra:
            width: 960
            height: 540
            codec:
              type: quadra-h264
              intraPeriod: 60
              bitrate: 2000000
            frameRate:
              frames: 30
              seconds: 1
          nvidia:
            width: 960
            height: 540
            codec:
              type: nv-h264
              idrPeriod: 60
              rateControl:
                mode: vbr
                averageBitrate: 2000000
            frameRate:
              frames: 30
              seconds: 1
        - name: h264_768x432_1100kbps
          software:
            width: 768
            height: 432
            codec:
              type: x264
              bitrateMode:
                value: 1100
                mode: abr
              keyFrameIntervalMax: 60
              keyFrameIntervalMin: 60
              sceneCut: 0
              preset: fast
              tune: zerolatency
              threads: 2
              bframes: 0
            frameRate:
              frames: 30
              seconds: 1
          quadra:
            width: 768
            height: 432
            codec:
              type: quadra-h264
              intraPeriod: 60
              bitrate: 1100000
            frameRate:
              frames: 30
              seconds: 1
          nvidia:
            width: 768
            height: 432
            codec:
              type: nv-h264
              idrPeriod: 60
              rateControl:
                mode: vbr
                averageBitrate: 1100000
            frameRate:
              frames: 30
              seconds: 1
        - name: h264_768x432_730kbps
          software:
            width: 768
            height: 432
            codec:
              type: x264
              bitrateMode:
                value: 730
                mode: abr
              keyFrameIntervalMax: 60
              keyFrameIntervalMin: 60
              sceneCut: 0
              preset: fast
              tune: zerolatency
              threads: 2
              bframes: 0
            frameRate:
              frames: 30
              seconds: 1
          quadra:
            width: 768
            height: 432
            codec:
              type: quadra-h264
              intraPeriod: 60
              bitrate: 730000
            frameRate:
              frames: 30
              seconds: 1
          nvidia:
            width: 768
            height: 432
            codec:
              type: nv-h264
              idrPeriod: 60
              rateControl:
                mode: vbr
                averageBitrate: 730000
            frameRate:
              frames: 30
              seconds: 1
        - name: h264_640x360
          software:
            width: 640
            height: 360
            codec:
              type: x264
              bitrateMode:
                value: 365
                mode: abr
              keyFrameIntervalMax: 60
              keyFrameIntervalMin: 60
              sceneCut: 0
              preset: fast
              tune: zerolatency
              threads: 2
              bframes: 0
            frameRate:
              frames: 30
              seconds: 1
          quadra:
            width: 640
            height: 360
            codec:
              type: quadra-h264
              intraPeriod: 60
              bitrate: 365000
            frameRate:
              frames: 30
              seconds: 1
          nvidia:
            width: 640
            height: 360
            codec:
              type: nv-h264
              idrPeriod: 60
              rateControl:
                mode: vbr
                averageBitrate: 365000
            frameRate:
              frames: 30
              seconds: 1
        - name: h264_416x234
          software:
            width: 416
            height: 234
            codec:
              type: x264
              bitrateMode:
                value: 145
                mode: abr
              keyFrameIntervalMax: 60
              keyFrameIntervalMin: 60
              sceneCut: 0
              preset: fast
              tune: zerolatency
              threads: 1
              bframes: 0
            frameRate:
              frames: 30
              seconds: 1
          quadra:
            width: 416
            height: 234
            codec:
              type: quadra-h264
              intraPeriod: 60
              bitrate: 145000
            frameRate:
              frames: 30
              seconds: 1
          nvidia:
            width: 416
            height: 234
            codec:
              type: nv-h264
              idrPeriod: 60
              rateControl:
                mode: vbr
                averageBitrate: 145000
            frameRate:
              frames: 30
              seconds: 1
      notes: ""
      id: abrladder
    subscriptions:
      - source: srt_input
        streams:
          type: take-first-stream
          filter:
            - media: video
  - type: output.autoCmaf
    config:
      displayName: LL-HLS
      name: default
      sessionId: false
      segments:
        retentionPeriod: 60
        defaultSegmentCount: 0
        targetSegmentDuration: 4
        targetPartDuration: 1
      destinations: []
      initialState: enabled
      multiplePrograms: false
      notes: ""
      id: ll-hls
    subscriptions:
      - source: abrladder
        streams:
          type: take-all-streams
          filter:
            - media: video
      - source: srt_input
        streams:
          type: take-all-streams
          filter:
            - media: audio